<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Minimal Augmented Analytics App</title>
    <!-- Custom styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h1>Ask gpt-3.5-turbo questions about the data!</h1>

    <form method="POST" action="/">
        <label for="prompt">Enter your prompt:</label><br>
        <textarea name="prompt" id="prompt" rows="5" cols="60">{{ prompt or '' }}</textarea><br><br>
        <button type="submit" class="button">Submit</button>
    </form>

    {% if gpt_response %}
        <hr>
        <h2>GPT Response</h2>
        <pre>{{ gpt_response }}</pre>
    {% endif %}

    {% if code_to_execute %}
        <hr>
        <h2>Extracted Python Code</h2>
        <pre>{{ code_to_execute }}</pre>
    {% endif %}

    {% if execution_result %}
        <hr>
        <h2>Execution Output</h2>
        <pre>{{ execution_result }}</pre>
    {% endif %}

    {% if show_graphic %}
        <hr>
        <img src="{{ url_for('static', filename='graphic.png') }}" 
             alt="Generated Graphic" style="max-width: 600px;">
    {% endif %}
</body>
</html>